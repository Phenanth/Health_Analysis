# README

## List数据入库

> 已完成

数据项比较统一，好操作。

## Abnormal数据入库

因为数据项比较统一，这个过程应该也会比较快

但是有个疑问，诊断内容（match_name）五花八门，需要做整理吗？

## Template数据入库
数据项比较统一，处理起来应该不难
就是需要把缺少的`minValue`的数值给添加上去

## Report数据入库
重头戏，数据项很不统一
需要将不同的名称映射到一个标准名上
其次再按照一个标准的数据结构将每个JSON导入到相应表中

### 数据库表设计

统计了一下所有文件的key，发现同样的数值有很多不同的名称，需要建立index表来对不同数值统一命名。

key一览（以常规检查为例）：
```bash
['脉搏', '体重', '身高', '复测血压(收缩压)', '体重指数', '复测血压(舒张压)', '体检血压(收缩压)', '体检血压(舒张压)', 'reportId', 'clientId', '舒张压', '收缩压', '复测血压2(舒张压)', '复测血压2(收缩压)', '腰围(男)', '臀围', '臀围(男)', '腰臀比', '腰臀比(男)', '体温', '呼吸', '营养', '发育', '体脂肪量', '体脂肪率', '体水分率', '基础代谢', '腹壁脂肪测定', '营养体脂测定', '腰围(女)', '臀围(女)', '腰臀比( 女)']
```

重复内容（简略）：
为什么他们没有命名规范呢.jpg
搜简写能够找到很多重复的值
```bash
['血小板容积分布宽度（PDW）',
 '血小板比容（PCT）', # 这个
 '血小板(PLT)', # 这个
 '血红蛋白(Hb)',
 '血小板容积分布宽度[PDW]',
 '血小板计数(PLT)', # 这个
 '红细胞压积[HCT]',
 '血小板压积[PCT]', # 这个
 '中性粒细胞百分比[N]',
 '中性粒细胞绝对值（GRA#）'],
 ...
```

设计完了index，相当于已经把表列简化工作做完了，就需要实打实地设计表列了
应该可以通过脚本便捷化处理，通过表修改的方式将不重复的列名添加进去。
注意：index表内处于一个genre下的数据是属于同一个表的

接下来是关于设计report_[genre]表的记录
> 未开始

### 入库

初步构想的入库的流程：
1. 查询该json对应的表，新建该对应表的标准数据结构
2. 在index表中查询当前json所有数据项对应的标准名
3. 在当前数据结构中添加对应标准名的数据项
4. 对于不存在的数据列，在数据结构中将其赋值为空